<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.1.2"/><title data-react-helmet="true">A/B testing with the JAMstack</title><meta data-react-helmet="true" name="description" content="The JAMstack has been talked about in recent years like a way to create static websites that scales very well in many different ways. Since it becomes more and more mainstream, it made sense to people to think about how to apply older patterns that we like in this quite particular context."/><meta data-react-helmet="true" name="twitter:creator" content="@mfrachet"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:url" content="https://mfrachet.github.io/a-b-testing-with-the-jamstack/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="A/B testing with the JAMstack"/><meta data-react-helmet="true" property="og:description" content="The JAMstack has been talked about in recent years like a way to create static websites that scales very well in many different ways. Since it becomes more and more mainstream, it made sense to people to think about how to apply older patterns that we like in this quite particular context."/><meta data-react-helmet="true" name="keywords" content="jamstack,split testing,ab testing,netlify,gatsby,nextjs,11ty,react"/><style data-styled="" data-styled-version="5.2.1">.bAXusw{font-size:3rem;font-weight:800;line-height:1.4;margin-bottom:24px;background-image:linear-gradient( 90deg,hsl(231,48%,48%),rgb(233,32,99) );background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;outline:none!important;}/*!sc*/
data-styled.g1[id="Text__H1-sc-1ixfc37-0"]{content:"bAXusw,"}/*!sc*/
.bDTcFC{font-size:1.8rem;line-height:1.4;margin-bottom:8px;margin-top:12px;outline:none!important;}/*!sc*/
data-styled.g2[id="Text__H2-sc-1ixfc37-1"]{content:"bDTcFC,"}/*!sc*/
.iULChM{font-size:1rem;line-height:1.8;margin-bottom:16px;outline:none!important;}/*!sc*/
data-styled.g7[id="Text__P-sc-1ixfc37-6"]{content:"iULChM,"}/*!sc*/
.eBiwxh{font-size:1rem;line-height:1.8;outline:none!important;}/*!sc*/
data-styled.g8[id="Text__Span-sc-1ixfc37-7"]{content:"eBiwxh,"}/*!sc*/
.dLGOtD{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;direction:row;}/*!sc*/
.hDdWSV{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
data-styled.g9[id="Flex___StyledDiv-sc-9f5j6c-0"]{content:"dLGOtD,hDdWSV,"}/*!sc*/
.hOiygm{padding-top:64px;padding-bottom:24px;}/*!sc*/
.kMydQJ{margin-right:8px;}/*!sc*/
.eKAaAl{margin-top:24px;}/*!sc*/
data-styled.g10[id="Box___StyledDiv-sc-7epa2y-0"]{content:"hOiygm,kMydQJ,eKAaAl,"}/*!sc*/
.jhVdFP{border:1px solid hsl(231,48%,96%);border-radius:8px;margin-bottom:24px;box-shadow:rgba(99,99,99,0.2) 0px 2px 8px 0px;overflow:hidden;background:hsl(231,48%,22%);color:#fff;}/*!sc*/
.jhVdFP a{color:#fff;border-color:#fff;}/*!sc*/
data-styled.g15[id="Sandbox__SandboxWrapper-xcisax-0"]{content:"jhVdFP,"}/*!sc*/
.fRaEDj{padding:16px;}/*!sc*/
data-styled.g16[id="Sandbox__SandboxContent-xcisax-1"]{content:"fRaEDj,"}/*!sc*/
.kwSEKb{border-bottom:1px solid #fff;padding:16px;}/*!sc*/
data-styled.g17[id="Sandbox__SandboxTitle-xcisax-2"]{content:"kwSEKb,"}/*!sc*/
.eCXkyE{color:hsl(231,48%,48%);padding-bottom:1px;-webkit-text-decoration:none;text-decoration:none;border-bottom:1px solid hsl(231,48%,48%);}/*!sc*/
data-styled.g18[id="Link__LinkWrapper-sc-1p5jtc8-0"]{content:"eCXkyE,"}/*!sc*/
.iJqlik .container{border:3px solid #f1f1f1;background:#fff;border-radius:4px;}/*!sc*/
.iJqlik .row{padding:10px;background:#f1f1f1;}/*!sc*/
.iJqlik .column{float:left;}/*!sc*/
.iJqlik .left{width:15%;}/*!sc*/
.iJqlik .right{width:10%;}/*!sc*/
.iJqlik .middle{width:75%;}/*!sc*/
.iJqlik .row:after{content:"";display:table;clear:both;}/*!sc*/
.iJqlik .dot{margin-top:4px;height:12px;width:12px;background-color:#bbb;border-radius:50%;display:inline-block;}/*!sc*/
.iJqlik input[type="text"]{width:100%;border-radius:3px;border:none;background-color:white;margin-top:-8px;height:25px;color:#666;padding:5px;}/*!sc*/
.iJqlik .bar{width:17px;height:3px;background-color:#aaa;margin:3px 0;display:block;}/*!sc*/
.iJqlik .content{padding:24px;position:relative;}/*!sc*/
data-styled.g20[id="Browser__BrowserContainer-sc-6emzkl-0"]{content:"iJqlik,"}/*!sc*/
.bbFUQi[role="switch"]{background-color:#fff;border:none;border-radius:16px;position:relative;border:1px solid #e6e6e6;-webkit-transition:all 0.5s;transition:all 0.5s;-webkit-transition-property:-webkit-transform,background-color;-webkit-transition-property:transform,background-color;transition-property:transform,background-color;height:20px;width:40px;}/*!sc*/
.bbFUQi[role="switch"] span{font-size:0px;}/*!sc*/
.bbFUQi[role="switch"]:before{content:"";background-color:#e6e6e6;width:16px;height:16px;border-radius:50%;position:absolute;-webkit-transition:all 0.5s;transition:all 0.5s;-webkit-transition-property:-webkit-transform,background-color;-webkit-transition-property:transform,background-color;transition-property:transform,background-color;left:1px;top:1px;}/*!sc*/
.bbFUQi[role="switch"][aria-checked="true"]{background:#4cd964;}/*!sc*/
.bbFUQi[role="switch"][aria-checked="true"]:before{-webkit-transform:translateX(20px);-ms-transform:translateX(20px);transform:translateX(20px);}/*!sc*/
data-styled.g21[id="Switch__SwitchButton-sc-1dy60qc-0"]{content:"bbFUQi,"}/*!sc*/
.hcPMiU{display:block;color:inherit;}/*!sc*/
data-styled.g22[id="Label-sc-1c9fog3-0"]{content:"hcPMiU,"}/*!sc*/
.dLZNdB{border:0;-webkit-clip:rect(0 0 0 0);clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;}/*!sc*/
data-styled.g23[id="VisuallyHidden-sc-1gmij28-0"]{content:"dLZNdB,"}/*!sc*/
.jnmmEb{width:30%;height:100px;}/*!sc*/
data-styled.g24[id="FeatureFlagBrowser__RightMenu-sc-1hvwlt-0"]{content:"jnmmEb,"}/*!sc*/
.eJBUlR{background:rgb(233,32,99);height:88px;width:100%;}/*!sc*/
data-styled.g25[id="FeatureFlagBrowser__RightMenuTop-sc-1hvwlt-1"]{content:"eJBUlR,"}/*!sc*/
.ilzoOC{background:hsl(231,48%,97%);height:88px;margin-top:24px;}/*!sc*/
data-styled.g26[id="FeatureFlagBrowser__RightMenuBottom-sc-1hvwlt-2"]{content:"ilzoOC,"}/*!sc*/
.juairi{background:#fff;height:100%;width:100%;color:hsl(231,48%,48%);padding:24px;position:absolute;-webkit-transition:-webkit-transform 0.5s;-webkit-transition:transform 0.5s;transition:transform 0.5s;-webkit-transform:rotateY(0);-ms-transform:rotateY(0);transform:rotateY(0);border:1px solid hsl(231,48%,48%);-webkit-backface-visibility:hidden;backface-visibility:hidden;}/*!sc*/
data-styled.g27[id="FeatureFlagBrowser__AVariant-sc-1hvwlt-3"]{content:"juairi,"}/*!sc*/
.jiocYr{background:hsl(231,48%,48%);height:100%;width:100%;color:#fff;padding:24px;-webkit-transform:rotateY(-180deg);-ms-transform:rotateY(-180deg);transform:rotateY(-180deg);position:absolute;-webkit-transition:-webkit-transform 0.5s;-webkit-transition:transform 0.5s;transition:transform 0.5s;-webkit-transform:rotateY(-180deg);-ms-transform:rotateY(-180deg);transform:rotateY(-180deg);border:1px solid rgb(233,32,99);-webkit-backface-visibility:hidden;backface-visibility:hidden;}/*!sc*/
data-styled.g28[id="FeatureFlagBrowser__BVariant-sc-1hvwlt-4"]{content:"jiocYr,"}/*!sc*/
.lgvTXq{margin-right:24px;width:100%;height:200px;position:relative;}/*!sc*/
data-styled.g29[id="FeatureFlagBrowser__Variants-sc-1hvwlt-5"]{content:"lgvTXq,"}/*!sc*/
@media (min-width:90.0625em){.kYdeuL{margin:0 auto;width:120ch;}}/*!sc*/
data-styled.g30[id="Container-ff6vd5-0"]{content:"kYdeuL,"}/*!sc*/
.kLYArx{isolation:isolate;display:grid;grid-template-columns:auto 1fr;}/*!sc*/
@media (min-width:64.0625em){.kLYArx{gap:24px;grid-template-columns:300px 1fr;}}/*!sc*/
data-styled.g39[id="ModulePageLayout__Grid-sc-499qv4-0"]{content:"kLYArx,"}/*!sc*/
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;}/*!sc*/
article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;}/*!sc*/
body{line-height:1;}/*!sc*/
ol,ul{list-style:none;}/*!sc*/
blockquote,q{quotes:none;}/*!sc*/
blockquote:before,blockquote:after,q:before,q:after{content:"";content:none;}/*!sc*/
table{border-collapse:collapse;border-spacing:0;}/*!sc*/
*,*:before,*:after{box-sizing:border-box;}/*!sc*/
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;background:hsl(231,48%,22%);}/*!sc*/
#___gatsby{isolation:isolate;}/*!sc*/
*:focus-visible{outline:3px dashed rgb(233,32,99);outline-offset:3px;}/*!sc*/
*:focus:not(:focus-visible){outline:none;outline:1px dashed hsl(231,48%,48%);}/*!sc*/
code{background:hsl(231,48%,97%);color:hsl(231,48%,48%);font-size:0.9rem;padding:4px;border-radius:2px;margin-right:4px;}/*!sc*/
.gatsby-resp-image-wrapper{border-radius:8px!important;overflow:hidden;}/*!sc*/
data-styled.g40[id="sc-global-iZVYRM1"]{content:"sc-global-iZVYRM1,"}/*!sc*/
.ecgKzh{max-width:100%;padding:16px;border-radius:8px;margin:16px 0;overflow:scroll;}/*!sc*/
.ecgKzh .token.comment{margin-bottom:16px;}/*!sc*/
data-styled.g42[id="Code__Pre-zuga41-1"]{content:"ecgKzh,"}/*!sc*/
.lobesg{display:table-row;line-height:1.4;}/*!sc*/
data-styled.g43[id="Code__Line-zuga41-2"]{content:"lobesg,"}/*!sc*/
.bWuILk{display:table-cell;text-align:right;padding-right:1em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.5;}/*!sc*/
data-styled.g44[id="Code__LineNo-zuga41-3"]{content:"bWuILk,"}/*!sc*/
.hZmaHT{display:table-cell;}/*!sc*/
data-styled.g45[id="Code__LineContent-zuga41-4"]{content:"hZmaHT,"}/*!sc*/
.gKdBeF:focus{position:fixed;top:12px;left:12px;z-index:1;width:auto;height:auto;-webkit-clip:auto;clip:auto;background:#fff;padding:12px;border-radius:4px;border:1px solid hsl(231,48%,48%);color:hsl(231,48%,48%);}/*!sc*/
data-styled.g46[id="SkipToContent__AnchorWrapper-sc-1rvhzn8-0"]{content:"gKdBeF,"}/*!sc*/
.bSZGnS{padding:0 12px;margin-bottom:16px;margin-left:12px;}/*!sc*/
data-styled.g47[id="List-sc-1hxsm1z-0"]{content:"bSZGnS,"}/*!sc*/
.exVtqR{padding:4px;line-height:1.8;position:relative;}/*!sc*/
.exVtqR:before{content:"";position:absolute;width:8px;height:8px;background:rgb(233,32,99);left:-12px;top:13px;}/*!sc*/
data-styled.g48[id="List__ListItem-sc-1hxsm1z-1"]{content:"exVtqR,"}/*!sc*/
.gsLEaq{font-weight:600;}/*!sc*/
data-styled.g50[id="Strong-ec5xx4-0"]{content:"gsLEaq,"}/*!sc*/
.fvOJRK{border-radius:4px;}/*!sc*/
data-styled.g51[id="Img-sc-1mh7cii-0"]{content:"fvOJRK,"}/*!sc*/
.gxEbhH{margin-top:64px;padding:0 24px;max-width:100vw;background:#fff;}/*!sc*/
@media (min-width:64.0625em){.gxEbhH{padding:0 48px;margin:24px 0;border-radius:8px;width:80ch;}}/*!sc*/
data-styled.g53[id="Content-sc-1am9e3c-0"]{content:"gxEbhH,"}/*!sc*/
</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="canonical" href="https://mfrachet.github.io/a-b-testing-with-the-jamstack/" data-baseprotocol="https:" data-basehost="mfrachet.github.io"/><link rel="preconnect" href="https://plausible.io"/><script async="" defer="" data-domain="mfrachet.github.io" src="https://plausible.io/js/plausible.js"></script><script>
          window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) };
          
          </script><link as="script" rel="preload" href="/webpack-runtime-ee8fffd92d4eefa6ecc9.js"/><link as="script" rel="preload" href="/framework-9ee55e24f4b77cd3b4b7.js"/><link as="script" rel="preload" href="/d7eeaac4-d5871d2c13375eaba516.js"/><link as="script" rel="preload" href="/app-a95842bebb6a22f69552.js"/><link as="script" rel="preload" href="/252f366e-2ab3df4b5f468908e4f2.js"/><link as="script" rel="preload" href="/1816b56507cb99c303b790a51cd41909116e2f64-ee47b74c5e06319cffb0.js"/><link as="script" rel="preload" href="/5707d0867a6ada2ed8ab7e4b7198879dd0023e6d-3441d35f24f6f257c481.js"/><link as="script" rel="preload" href="/component---courses-a-b-testing-with-the-jamstack-index-mdx-482cc44e5f1109531709.js"/><link as="fetch" rel="preload" href="/page-data/a-b-testing-with-the-jamstack/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><a href="#main-content" class="VisuallyHidden-sc-1gmij28-0 SkipToContent__AnchorWrapper-sc-1rvhzn8-0 dLZNdB gKdBeF">Go to main content</a><div class="Container-ff6vd5-0 kYdeuL"><div class="ModulePageLayout__Grid-sc-499qv4-0 kLYArx"><div class="Content-sc-1am9e3c-0 gxEbhH"><div class="Box___StyledDiv-sc-7epa2y-0 hOiygm"><main id="main-content"><h1 class="Text__H1-sc-1ixfc37-0 bAXusw">A/B testing with the JAMstack</h1><p class="Text__P-sc-1ixfc37-6 iULChM">The JAMstack has been talked about in recent years like a way to create static websites that scales very well in many different ways.
Since it becomes more and more mainstream, it made sense to people to think about how to apply older patterns that we like in this
quite particular context.</p><p class="Text__P-sc-1ixfc37-6 iULChM">In this post, I will share with you <strong class="Strong-ec5xx4-0 gsLEaq">my vision</strong> of A/B testing with the JAMstack.</p><h2 class="Text__H2-sc-1ixfc37-1 bDTcFC">But first, why do we use the JAMstack?</h2><p class="Text__P-sc-1ixfc37-6 iULChM">According to <a href="https://jamstack.org/" target="_blank" class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE">jamstack.org</a>, we use it because:</p><ul class="List-sc-1hxsm1z-0 bSZGnS"><li class="List__ListItem-sc-1hxsm1z-1 exVtqR">it&#x27;s about building <strong class="Strong-ec5xx4-0 gsLEaq">simple static pages</strong> (HTML files)</li><li class="List__ListItem-sc-1hxsm1z-1 exVtqR">most of the job is made at build-time, no potential leak at runtime, it&#x27;s more <strong class="Strong-ec5xx4-0 gsLEaq">secured</strong></li><li class="List__ListItem-sc-1hxsm1z-1 exVtqR">static pages are basically HTML files and thus <strong class="Strong-ec5xx4-0 gsLEaq">load very fast</strong></li><li class="List__ListItem-sc-1hxsm1z-1 exVtqR">we benefit from <strong class="Strong-ec5xx4-0 gsLEaq">cheap hosting</strong> (putting files on a server and there we go)</li><li class="List__ListItem-sc-1hxsm1z-1 exVtqR">it&#x27;s <strong class="Strong-ec5xx4-0 gsLEaq">highly scalable</strong>, just put the files on another machine and scaling is done</li><li class="List__ListItem-sc-1hxsm1z-1 exVtqR">it already exists great tools to create amazing sites (<a href="https://www.gatsbyjs.com/" target="_blank" class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE">Gatsbyjs</a>, <a href="https://nextjs.org/" target="_blank" class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE">Nextjs</a>, <a href="https://www.11ty.dev/" target="_blank" class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE">11ty</a>, <a href="https://jamstack.org/generators/" target="_blank" class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE">etc...</a>)</li></ul><h2 class="Text__H2-sc-1ixfc37-1 bDTcFC">Why do we use A/B testing?</h2><p class="Text__P-sc-1ixfc37-6 iULChM">People use A/B testing to measure which variant of a website is more appreciated by their users. The idea is simply to provide different visual representations
of some data and check which one attracts more people.</p><p class="Text__P-sc-1ixfc37-6 iULChM"><span class="Text__Span-sc-1ixfc37-7 eBiwxh gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:507px">
      <a class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener" href="/static/d14d0d3eef1c8849bccf93f62cfcbda9/3ebb1/ab-tests.png">
    <span class="Text__Span-sc-1ixfc37-7 eBiwxh gatsby-resp-image-background-image" style="padding-bottom:90.33333333333331%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE1klEQVQ4y02UfWgTZxzHn1ySXt56vWveY5q0TZukSS5vTZeXy10uuaRN01wu1fpe0G1MKNa3OvviG7XFl+o2dU7BqROmyBAm6hwDneAf0xamDMbYpnNDBiLo2onuj8k2uufaFDz48nsu98vn9/Y8DwCVB1NaFVKkyi5DFCaZVGmUS9XahW/wHVTJNAuvQC5VaaUIKvqJdpEaNSrAa08tlAqqBsoGtQjKUPkdhaqWSqpgMBSBax2UpuLnhKqvrMXg6ooFeqZlV3NX6HhAiJwli+GTHmi9QuQTMktORDzWHkclIGLAfLaMb6+zM3jMXYqcgf850QTlKoQ+cuXIgw4x27kM385MxkbKL7ht/NPkYOkPZrA0nR4WnjMDXY9zrGdPqJIpcFkEz1BphobfU9v4ZxT0paFlR8ov6XXcXRq2rU70I1Ynv0zt7HlFD5VnqOHyc2aoNM2MCH8y2/gnOc477oM+StHRbRH8g/xTGGyGGYaBh0vTmaHSM3q78Jxe3/4DA4F2ACQApx07fcv8l71Cy6ck7zkVKL9xgSzGrngK0UteX0OftdI3YNVSDj56KbSE+tq/gpkke5K3yHL8K78QuxbKt54PVslqxH4ClX6Nztyw3R1s3u9tMfZb3XYNqJ1o9BtGHaSZ19eJw8EQpBqBjcQG7TLtZrvCsLFOZthqF4Ua+6xy04AN0cklwDwH9I3SHvpaT0f+7tqE91wHtbg+HLmf3Z6ZZDd3jLbkW+cnaAUhnDDdYFK5x0WefZAvpH/r7Mo8zBe4R4Uu7k6a46xKpThAoPbtS7qoK2U2N9Ub9Z7LxntsIfJl4VDk19wodcBT8s6XHAYRHNd/l8mwr4Qy9aLIJ6Z5np3hBfrv8pLY99n2hAFFm0Sgxv9eqpn6opvlplbH284X4nYLblvpMPre8ljCcRPWIO5FuAklmALFi87GpiXuJmfR3eRe63DUL7MZ3csa9K1rm40elRSpmwceSjVBYDo7tSoWvMDH+IDC9mgTRv+1A08ezCmDYhX7xPFZdXrZ+Bqq6uKOBLr/zRzI0pqri2Wu2bHa+I/9WNJegzTPAckJxkld7WYhMB74rBQtk8r6x1tqk//t1qUOcOq5Hq6DGxvR1xiIU1to/dSHCe3ZrVnQnSduLlWSs+MG+kE/wbi00kYRWA2BLphhJju5igpdLEU7g5r63zcRyX926TLvt6vD4uDehRlCoBk70pfW3j4cJU5v5kB3B35rucI7u0dPPdxA0BBYtwB0QmBuAVgIqEVgCmbIHs2rxZJVy8UMjfgi7Ggfo71zJEac3pIFhQx+fanSPzump+/3E4mIWTYPDHzAwpLLWe72yljwYqlNCKsbHm0k2H9369LHOtUBEchIgFRSo7LADFPabw5TxMlNWdCZIT4voQEITP60Hk+1mmVzZ1kTOs65mBs96fZ7vbHw5e5YOaxpfDJApGfHdKmTRY2YoRIeaBnM0Iyd2JDV3TseJc4MQGBae1lAg7P7DKmf+wl2oWSNc2uk3rc3SbV9nGt1HWRDxbDGdLMXa/v2HTw6xqrEa0oFj4sCsRm0mvE1Cfz8cFv1yAoOpKnqMx2o85eNtfHrvVjMVjO/bXSV+88CZXrtLtRVLCGBsMoFYQJVckJSrdQBVG6q+BhRKbDIEWAU1/8DEyxBAZhCsGQAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="Img-sc-1mh7cii-0 fvOJRK gatsby-resp-image-image" alt="Visual representation of two different variants of an A/B tests" title="Visual representation of two different variants of an A/B tests" src="/static/d14d0d3eef1c8849bccf93f62cfcbda9/3ebb1/ab-tests.png" srcSet="/static/d14d0d3eef1c8849bccf93f62cfcbda9/5a46d/ab-tests.png 300w,/static/d14d0d3eef1c8849bccf93f62cfcbda9/3ebb1/ab-tests.png 507w" sizes="(max-width: 507px) 100vw, 507px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><p class="Text__P-sc-1ixfc37-6 iULChM">If the visitors of the variant A come more often than the visitors of the variant B, then we can assume that variant A is a more viable solution to represent the data on the page.</p><h2 class="Text__H2-sc-1ixfc37-1 bDTcFC">How do we use A/B testing in non JAMstack applications?</h2><p class="Text__P-sc-1ixfc37-6 iULChM">In applications that are not built on top of the JAMstack, the idea is quite straightforward.</p><p class="Text__P-sc-1ixfc37-6 iULChM">When opening the application, it will make a request to a remote server to get the different available variants. Then, based on some conditions in the codebase, we are able to display the good variant to the good user.</p><p class="Text__P-sc-1ixfc37-6 iULChM">The following is an example of a client-side A/B test written with <a href="https://reactjs.org/" target="_blank" class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE">Reactjs</a>:</p><div class="Code__CodeWrapper-zuga41-0 eDCCXi"><pre class="Code__Pre-zuga41-1 ecgKzh prism-code language-jsx" style="color:#F8F8F2;background-color:#282A36" tabindex="0"><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">1</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">App</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">2</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> variant</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> isLoading </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useABVariant</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">3</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain" style="display:inline-block">
</span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">4</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">isLoading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">5</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">p</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Preparing the application</span><span class="token operator">...</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">p</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">6</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">7</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain" style="display:inline-block">
</span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">8</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">variant </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;A&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">9</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Here&#x27;s the </span><span class="token constant" style="color:rgb(189, 147, 249)">A</span><span class="token plain"> variant</span><span class="token operator">!</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">10</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">11</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain" style="display:inline-block">
</span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">12</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Here&#x27;s the </span><span class="token constant" style="color:rgb(189, 147, 249)">B</span><span class="token plain"> variant</span><span class="token operator">!</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">13</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></span></div></pre></div><p class="Text__P-sc-1ixfc37-6 iULChM">As we see in the snippet, the code is executed in the user&#x27;s browser. Also notice <strong class="Strong-ec5xx4-0 gsLEaq">the loading information while the request is pending</strong> before being able to display the variant content.</p><p class="Text__P-sc-1ixfc37-6 iULChM">The following is a tiny sandbox allowing to switch on and off a feature flag to display a new variant of a homepage. When using services like <a href="https://launchdarkly.com/" target="_blank" class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE">LaunchDarkly</a>, this is exactly the kind of actions you&#x27;re provided with.</p><section class="Sandbox__SandboxWrapper-xcisax-0 jhVdFP"><h3 class="Sandbox__SandboxTitle-xcisax-2 kwSEKb"><span class="Box___StyledDiv-sc-7epa2y-0 kMydQJ"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M512 472a40 40 0 1 0 80 0 40 40 0 1 0-80 0zm367 352.9L696.3 352V178H768v-68H256v68h71.7v174L145 824.9c-2.8 7.4-4.3 15.2-4.3 23.1 0 35.3 28.7 64 64 64h614.6c7.9 0 15.7-1.5 23.1-4.3 33-12.7 49.4-49.8 36.6-82.8zM395.7 364.7V180h232.6v184.7L719.2 600c-20.7-5.3-42.1-8-63.9-8-61.2 0-119.2 21.5-165.3 60a188.78 188.78 0 0 1-121.3 43.9c-32.7 0-64.1-8.3-91.8-23.7l118.8-307.5zM210.5 844l41.7-107.8c35.7 18.1 75.4 27.8 116.6 27.8 61.2 0 119.2-21.5 165.3-60 33.9-28.2 76.3-43.9 121.3-43.9 35 0 68.4 9.5 97.6 27.1L813.5 844h-603z"></path></svg></span> <!-- -->Sandbox - <!-- -->Runtime Feature flags</h3><div class="Sandbox__SandboxContent-xcisax-1 fRaEDj"><div class="Browser__BrowserContainer-sc-6emzkl-0 iJqlik"><div class="container"><div class="row"><div class="column left"><span class="dot" style="background:#ED594A"></span><span class="dot" style="background:#FDD800"></span><span class="dot" style="background:#5AC05A"></span></div><div class="column middle"><input type="text" value="http://https://mfrachet-test-ab.com/" aria-hidden="true" disabled=""/></div><div class="column right"><div style="float:right"><span class="bar"></span><span class="bar"></span><span class="bar"></span></div></div></div><div class="content"><div class="Flex___StyledDiv-sc-9f5j6c-0 dLGOtD"><div class="FeatureFlagBrowser__Variants-sc-1hvwlt-5 lgvTXq"><p aria-hidden="true" class="FeatureFlagBrowser__BVariant-sc-1hvwlt-4 jiocYr">The new amazing homepage!</p><p class="FeatureFlagBrowser__AVariant-sc-1hvwlt-3 juairi">The old meeh homepage</p></div><div class="FeatureFlagBrowser__RightMenu-sc-1hvwlt-0 jnmmEb"><div class="FeatureFlagBrowser__RightMenuTop-sc-1hvwlt-1 eJBUlR"></div><div class="FeatureFlagBrowser__RightMenuBottom-sc-1hvwlt-2 ilzoOC"></div></div></div></div></div></div><div class="Box___StyledDiv-sc-7epa2y-0 eKAaAl"><div class="Flex___StyledDiv-sc-9f5j6c-0 hDdWSV"><label id="switch-flag" class="Label-sc-1c9fog3-0 hcPMiU">Switch the &quot;new homepage&quot; feature flag</label><button role="switch" aria-labelledby="switch-flag" class="Switch__SwitchButton-sc-1dy60qc-0 bbFUQi"><span>On</span><span>Off</span></button></div></div><div class="VisuallyHidden-sc-1gmij28-0 dLZNdB"><p aria-live="polite"></p></div></div></section><h2 class="Text__H2-sc-1ixfc37-1 bDTcFC">Why A/B testing on the JAMstack is different?</h2><p class="Text__P-sc-1ixfc37-6 iULChM">Remember one of the main arguments of building on top of the JAMstack is <strong class="Strong-ec5xx4-0 gsLEaq">fast page loading</strong> (performance).</p><p class="Text__P-sc-1ixfc37-6 iULChM">When dealing with A/B tests the &quot;standard way&quot;, <strong class="Strong-ec5xx4-0 gsLEaq">we need to make an HTTP request to get the different variants</strong>. Making an HTTP request means that <strong class="Strong-ec5xx4-0 gsLEaq">there is a delay</strong> between the moment we ask for the variants and the moment we get them back from the server.</p><p class="Text__P-sc-1ixfc37-6 iULChM">The problem is that <strong class="Strong-ec5xx4-0 gsLEaq">making the HTTP request is so critical</strong> that we can&#x27;t show anything else than a loading information to the user before resolving the variants and being able to show them the good content.</p><p class="Text__P-sc-1ixfc37-6 iULChM"><strong class="Strong-ec5xx4-0 gsLEaq">In a static environment, we are waiting for a dynamic information to display meaningful information.</strong></p><p class="Text__P-sc-1ixfc37-6 iULChM">When A/B testing the &quot;standard way&quot;, using runtime information will <strong class="Strong-ec5xx4-0 gsLEaq">make the application performances worse by increasing the time for the displaying the first meaningful content</strong>. Loading static pages should be &quot;instant&quot; but relying on an HTTP request and an intermediate loading state before displaying the content will take extra time and decrease the experience.</p><p class="Text__P-sc-1ixfc37-6 iULChM">In some scenarios, <a href="https://developers.google.com/web/tools/lighthouse" target="_blank" class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE">Lighthouse</a> performance score can drop by around <code>25</code> points (up to you to determine if it&#x27;s significant or not).</p><p class="Text__P-sc-1ixfc37-6 iULChM">Also note that some tools helping building applications using the JAMstack <strong class="Strong-ec5xx4-0 gsLEaq">don&#x27;t even run JavaScript at all</strong>, meaning that it&#x27;s not possible to rely on HTTP requests to access remote data at runtime.</p><h2 class="Text__H2-sc-1ixfc37-1 bDTcFC">How to make A/B testing in a JAMstack fashion?</h2><p class="Text__P-sc-1ixfc37-6 iULChM">The JAMstack is about <strong class="Strong-ec5xx4-0 gsLEaq">building static pages</strong>. Taking this notion to the extreme, we can imagine creating a dedicated set of static pages for different variants and host them in different places, like for example, different machines.</p><p class="Text__P-sc-1ixfc37-6 iULChM"><span class="Text__Span-sc-1ixfc37-7 eBiwxh gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:851px">
      <a class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener" href="/static/9a1136bf754c1c343818847a924e420e/0fcea/machine-ab.png">
    <span class="Text__Span-sc-1ixfc37-7 eBiwxh gatsby-resp-image-background-image" style="padding-bottom:71.00000000000001%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADP0lEQVQ4y1WTy2sTQRjAZ3ZnZ9+P7CatJmm6CZU2qdq8mmST0qapIfZhEawBrW/USoRgrS1VRERBPXnwoF4UfLQi6kkEe/DxF3hTEcGLRx/oQQU9xNnNRurCjxl2vvnNt9/sBwAAHAETJEKY4CUgAkvgXewHEhgXgdBJCLnryH1vjwDLfAD45BhS+CDWBBMbcjdDU6wdQLmbQetQCCiWxzrPMZrIMqoksD6egkj6lxSieZpMdEKHm52P0EaQXVErQ5aCDO0eECAYLq09rUMBCuo5YyJ9PVMtPOyrWg/iW5LXcpG2kUAxegYginMyJDK7BAzJXh+LX4lvy9xOTGXu9lVz9+MkNmiXBCOpKeyPHPUdHnw1ulD5Mjg38Wn4SOVdJRWpdWxJ3wIYKY6QoUW71igamDJmym+G5ya/Dx+b+EzGb8VM12xXo9EAMhdgnDS93h6pf3xPb277TM9Y8rh5qO9UOOKJenf21gANkSOEkLYzxLoYFqsb6+a+1GLkQOJEeH9itqvb2LDGqQnNNYV8Fy9nH5Wtvufl3HyxFH+bnyvsCqVCD1K7gUSzjhBB59axhoD0sVRI/to8nP80Vip8GS1bNTMUafz5Cvwc2xTK3YaSX560citT+elKuudOPp8qBtcEz6XigKNpN0PoCDlIiccqQ7GF0ZHE1Wwyer8US281vfbvAwwWNX8bMaKq+XvjVnKlas1P+3rf1/hN+1M4srSNAyoLRNC8FRZQlF10mbk5mwH3TmcPbjWCH+rSSN3i1tkhpkY5QkYMq6q1PF5IPt2eP7XLH/sxrxdrWcFcmVaJEDaFdobkqslM9S0tZvHji5kLO0Oh3yf1wdNDYvg/odztUQceTQ6kXu6wzuz1b/i14CGnCuazPSrQOCj8E2LkCI3lRYt6cil7turv/LnoKZ0fEcONxkvQoVBODRnBVNTE5aFs7MZopj7VHn07owzsjnOhF3tVIOFVQgjtT9Y81+tp6ups/6FyW+frGWWwnuNNO6RNdNadHmQZBeu4XdA0iZbW+2hVYSEvY7i6U7DTq+S20Tq/AsNrNQFDuddH6wYPpXYR2s3uCEVXSrswq5qdddeB+05wx1Zsa44o6My5vyJIk+xBTeJGAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="Img-sc-1mh7cii-0 fvOJRK gatsby-resp-image-image" alt="Visual representation of two machines hosting two different variants of an A/B test" title="Visual representation of two machines hosting two different variants of an A/B test" src="/static/9a1136bf754c1c343818847a924e420e/0fcea/machine-ab.png" srcSet="/static/9a1136bf754c1c343818847a924e420e/5a46d/machine-ab.png 300w,/static/9a1136bf754c1c343818847a924e420e/0a47e/machine-ab.png 600w,/static/9a1136bf754c1c343818847a924e420e/0fcea/machine-ab.png 851w" sizes="(max-width: 851px) 100vw, 851px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><p class="Text__P-sc-1ixfc37-6 iULChM"><strong class="Strong-ec5xx4-0 gsLEaq">The machine 1</strong> owns all the statically generated HTML pages impacted by the variant A and <strong class="Strong-ec5xx4-0 gsLEaq">the machine 2</strong> owns all of the statically generated HTML pages of the variant B.</p><p class="Text__P-sc-1ixfc37-6 iULChM">Since pages are statically generated at build time, we can rely on environment variables to display the good variant content:</p><div class="Code__CodeWrapper-zuga41-0 eDCCXi"><pre class="Code__Pre-zuga41-1 ecgKzh prism-code language-jsx" style="color:#F8F8F2;background-color:#282A36" tabindex="0"><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">1</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">AB_EXPERIMENT_VARIANT</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> process</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">env</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">AB_EXPERIMENT_VARIANTS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">2</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain" style="display:inline-block">
</span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">3</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">App</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">4</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token constant" style="color:rgb(189, 147, 249)">AB_EXPERIMENT_VARIANT</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;A&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">5</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Here&#x27;s the </span><span class="token constant" style="color:rgb(189, 147, 249)">A</span><span class="token plain"> variant</span><span class="token operator">!</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">6</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">7</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain" style="display:inline-block">
</span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">8</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Here&#x27;s the </span><span class="token constant" style="color:rgb(189, 147, 249)">B</span><span class="token plain"> variant</span><span class="token operator">!</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span></div><div class="Code__Line-zuga41-2 lobesg token-line" style="color:#F8F8F2"><span class="Code__LineNo-zuga41-3 bWuILk">9</span><span class="Code__LineContent-zuga41-4 hZmaHT"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></span></div></pre></div><p class="Text__P-sc-1ixfc37-6 iULChM">The next step is to rely on some kind of proxy to route the different users to one of the two variants and make sure they always see that variant.</p><p class="Text__P-sc-1ixfc37-6 iULChM">Remember, <strong class="Strong-ec5xx4-0 gsLEaq">we can&#x27;t rely on runtime information to store the variant</strong>, like an authenticated user id for example. We need to rely on something else. Hopefully, <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies" target="_blank" class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE">HTTP Cookies</a> exist that allow for a client-server kind of data sharing. We can benefit from them to store the actual variant requested by the user and make sure that they will always get routed to that variant.</p><p class="Text__P-sc-1ixfc37-6 iULChM"><span class="Text__Span-sc-1ixfc37-7 eBiwxh gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:851px">
      <a class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener" href="/static/2c489a0b63ed1026677b36dfbac2cc3e/0fcea/cookie-ab.png">
    <span class="Text__Span-sc-1ixfc37-7 eBiwxh gatsby-resp-image-background-image" style="padding-bottom:148.33333333333334%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEAklEQVRIx62US2wbRRjHd3Z39uXdtb22Y8ePhMSxHSdZ23VDnMTrJnFw1NZRHg5t86BJeggqESAopAlCcGqpQA1nipB6QEi50EhtUVWpPReJE1JPHFqOSEhcgPJQD8ysP9MFZJpUGemvtT3j3/6/1zDM0xdHFAAFmQNYPFELkQxQ9iCgYaIIURQcH8jSwO0zLx+Rn6gVcofhtzCAEZxDkAb0NCCFtYMaodJnHPboS0LwbAFx+ymM4PiOQJzDXVOHNDQJJMJBD5EL9tn9VrqRtxDkSydSiFTHixRooz0txQGOATgCuaJyw75rr0AdwgxBQZ4DReC3NnC5Z4cyFACBW+yQAPnjIb97Xgh6TmnS4KH9NjUHBRGaROB6lkkRm7QHu58wG31Hc2T8j3sehJsVgWwg2g6d9dwhGXIlO/KInvQfUqHyHeSz5uhNu1CYRbwgYrdkqAlWEQNY5HWRY4XGWKkApPmUEOI4gVdlTYrwLrEFy4IhsghLf0coCz4EDdvpuPNor3kdEdg5JTAenMeh6aPwn5hj5hk2037avzJ69/DLlW/MVyrfZpaKN/uTrZMt430XGJ6V7JCJYxqOEPLk9OXS7Z618tcZor5XJ+6bA/F12hGsKoVsILKSW+HXyw/L71UfF96Z+c1aP/pgzGxfDR/Lf8pgTrWBmFMokE+0TnrPTnxnbc4+Lr49/au1MfN7qdj9fsqeVb3Xvr44fyTpyZ2s5bLzNXMsfTK+nFpJdLg7fNOd0wyHOKVeEdZ2qIoBZTr1Yny+96XUQno+cbp3MZUJmDRspGJXHegp+I2h3WNF8+YLgxeOVHP3ixulWiQT/cQ8wbg4wQbyCNlAjBj1+3Lp8B/HK9aP1YnSL5PHi+8mE7bDPk2rA42BVsPanR0e+Ko2tDpqpj8rHipYEX94I5tkSLnBIakgsiutnJko9ZytlvOXB3Ldn491FZYSflpQ1KGJdaC3P+izrk0NZ6/PDX647Ev/cE4ZWczitquzEqMJMGbUoYgpUMU7W3nm1qXnTyzFgj9vqtbFikwdsoNRDoB5AvxyqpS9MTf8wWKw96dzxviZvNy2M6czuoCeAGWBAvXA1bcK8vWLQ28sdMUenfeObB/VEhRYiPB1oG84bIzcqlmH7pwqbK8EzUeb3vJavxzbPaUxutgAkj7UZBtofLFZEG5/NPTaQjz255Zn9MqU1kVPZIPgUO/xBbKXrJHE9ljxzUmfeW9VH59Ji7GdOY1x4f+E7HVfXhvkP14vVY+EOu+tapXzltJNT8S9LN8YdpFzYZU3JEWVkBTVWJmkV8TsPyYF22dJYdiwT0ERv4vnkBLWkEpeSp5sg2Vf+RLMquC43mWYY7cDqMMF0Dgr/kvKX5pEk9JCTIYPAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="Img-sc-1mh7cii-0 fvOJRK gatsby-resp-image-image" alt="Visual representation of a proxy routing an HTTP request to the good machine for an A/B test" title="Visual representation of a proxy routing an HTTP request to the good machine for an A/B test" src="/static/2c489a0b63ed1026677b36dfbac2cc3e/0fcea/cookie-ab.png" srcSet="/static/2c489a0b63ed1026677b36dfbac2cc3e/5a46d/cookie-ab.png 300w,/static/2c489a0b63ed1026677b36dfbac2cc3e/0a47e/cookie-ab.png 600w,/static/2c489a0b63ed1026677b36dfbac2cc3e/0fcea/cookie-ab.png 851w" sizes="(max-width: 851px) 100vw, 851px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><h2 class="Text__H2-sc-1ixfc37-1 bDTcFC">Observations on this approach</h2><p class="Text__P-sc-1ixfc37-6 iULChM">The first observations to push upfront is that <strong class="Strong-ec5xx4-0 gsLEaq">we have kept the page loading performances provided by default by the JAMstack</strong>. We don&#x27;t have to wait for runtime computations to display content on the page.</p><p class="Text__P-sc-1ixfc37-6 iULChM">The second observation is about the tradeoffs we decided to make: we shifted the A/B testing responsibility <strong class="Strong-ec5xx4-0 gsLEaq">closer to the infrastructure layer</strong>. The proxy has an important role to play in this scenario.</p><p class="Text__P-sc-1ixfc37-6 iULChM">Also note that we need more &quot;places&quot; to put the different variants: 1 variant corresponds to 1 website that corresponds to 1 set of static pages that should entirely be hosted. <strong class="Strong-ec5xx4-0 gsLEaq">The more we have variants, the more we may pay for hosting</strong>:</p><p class="Text__P-sc-1ixfc37-6 iULChM"><span class="Text__Span-sc-1ixfc37-7 eBiwxh gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1200px">
      <a class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE gatsby-resp-image-link" style="display:block" target="_blank" rel="noopener" href="/static/5ca1379724776ace7b90ea96f8722942/e67dd/all-variants.png">
    <span class="Text__Span-sc-1ixfc37-7 eBiwxh gatsby-resp-image-background-image" style="padding-bottom:71.33333333333334%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACL0lEQVQ4y2NgIAyYgFgSiDkYqASYgVgAiNmoYRgrEIsCMTfUUC4om41cl/FCMTfUcFaoOBM5BrIAMR8QSwGxOBDzQ8XIAoxAzA7EnNDIYIPyYa7jIMWbYK/py8czsLPyAzUzcjAxsjBICBgyMDIys4KjnZGFCWopgwgbG0pygNHsUFdwQg1FdiEb0CCYARzQiGFiZGACiwmysjIJsrFyaAkJMkKcxMTOJcytJirKpyXMzMTGCg0nNh5OGREBbiVxDlZ+LqgYMxMLGx8bK6cIJws72GJ2JmZmaIQJg8KYEeQIaSEzwVjbXRYRVpsspYXMYS7kjLDaoBdnt8faTCVPDBZJgfpzVRPtTpk76c2QgriYg7lARUNov5W99jJdfQVwcPFqiHGbT/A37rKL1Q7i0oYZyLHB1ktli52naZaqtgjINBWgOE9BgUpmTqTxPFspqIEMLLPMuIXmpZoaaRbFaoODjd9AhMd0hafV2mRJ42J1VpDzmYApmZN7Qp7a1Cwtw1UuzMBs95+hBRTWiyqUc3qtTK8HMMgwMESCUhXLcVcGwbnNksYMCzNANoMMFOMxnuthuSNLxLTLjAlsoAwo4OfXaPWW6Jjs82UAGwgST/JyUl7hb2s530JeBhYMsboewoX+fVbWflMNOUEGMrIy8QhbSwm5qnMKirCDY5WFBRSbNvr85tqCQmaioEBnAueQLlkFwdV6ZtKFyno8MC9ryhfxhJkfUY7UXyXHxMLJCgAFyE4KiqUoDAAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="Img-sc-1mh7cii-0 fvOJRK gatsby-resp-image-image" alt="A visual representation of a project having 4 different variants" title="A visual representation of a project having 4 different variants" src="/static/5ca1379724776ace7b90ea96f8722942/c1b63/all-variants.png" srcSet="/static/5ca1379724776ace7b90ea96f8722942/5a46d/all-variants.png 300w,/static/5ca1379724776ace7b90ea96f8722942/0a47e/all-variants.png 600w,/static/5ca1379724776ace7b90ea96f8722942/c1b63/all-variants.png 1200w,/static/5ca1379724776ace7b90ea96f8722942/d61c2/all-variants.png 1800w,/static/5ca1379724776ace7b90ea96f8722942/e67dd/all-variants.png 1801w" sizes="(max-width: 1200px) 100vw, 1200px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><p class="Text__P-sc-1ixfc37-6 iULChM">There&#x27;s also one side effect that I find positive (but it can feel negative) is that it can be hard to combine multiple A/B experiments.</p><p class="Text__P-sc-1ixfc37-6 iULChM">Let&#x27;s say that we have 2 pages and that we want to run an experiment on both the pages:</p><ul class="List-sc-1hxsm1z-0 bSZGnS"><li class="List__ListItem-sc-1hxsm1z-1 exVtqR">What can be a visual representation of these scenarios at the hosting level?</li><li class="List__ListItem-sc-1hxsm1z-1 exVtqR">Should we create 4 different websites, one for each variant?</li><li class="List__ListItem-sc-1hxsm1z-1 exVtqR">Should we create N different websites with combinations of variants?</li></ul><h2 class="Text__H2-sc-1ixfc37-1 bDTcFC">References</h2><p class="Text__P-sc-1ixfc37-6 iULChM">If you&#x27;re using <!-- --> for hosting your websites, they have a feature called <a href="https://docs.netlify.com/site-deploys/split-testing/" target="_blank" class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE">Split-testing</a> that allows for these kind of testing using a branch based approach.</p><p class="Text__P-sc-1ixfc37-6 iULChM">If you have any other references in mind concerning A/B testing or Split Testing on top of the JAMstack, feel free to drop them on <a href="https://twitter.com/mfrachet" target="_blank" class="Link__LinkWrapper-sc-1p5jtc8-0 eCXkyE">Twitter</a>.</p></main></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/a-b-testing-with-the-jamstack/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-097500c62648b291bce1.js"],"app":["/app-a95842bebb6a22f69552.js"],"component---courses-a-b-testing-with-the-jamstack-feature-flag-browser-js":[],"component---courses-a-b-testing-with-the-jamstack-index-mdx":["/component---courses-a-b-testing-with-the-jamstack-index-mdx-482cc44e5f1109531709.js"],"component---courses-accessibility-accessible-font-size-index-mdx":["/component---courses-accessibility-accessible-font-size-index-mdx-ecb9ff0e052e94ce1c62.js"],"component---courses-accessibility-accessible-forms-accessible-video-js":[],"component---courses-accessibility-accessible-forms-index-mdx":["/component---courses-accessibility-accessible-forms-index-mdx-532ea0d520f2b8900d7d.js"],"component---courses-accessibility-accessible-forms-not-accessible-video-js":[],"component---courses-choosing-a-rendering-strategy-index-mdx":["/component---courses-choosing-a-rendering-strategy-index-mdx-40d350bf4c4b0db28985.js"],"component---courses-choosing-a-rendering-strategy-rendering-decision-tree-js":[],"component---courses-why-i-dont-like-gitflow-index-mdx":["/component---courses-why-i-dont-like-gitflow-index-mdx-f4f441e20c98bd8732af.js"],"component---src-pages-404-js":["/component---src-pages-404-js-c7184997d836b6c98e5f.js"],"component---src-pages-index-js":["/component---src-pages-index-js-7c2281aa55a57711aa02.js"]};/*]]>*/</script><script src="/polyfill-097500c62648b291bce1.js" nomodule=""></script><script src="/component---courses-a-b-testing-with-the-jamstack-index-mdx-482cc44e5f1109531709.js" async=""></script><script src="/5707d0867a6ada2ed8ab7e4b7198879dd0023e6d-3441d35f24f6f257c481.js" async=""></script><script src="/1816b56507cb99c303b790a51cd41909116e2f64-ee47b74c5e06319cffb0.js" async=""></script><script src="/252f366e-2ab3df4b5f468908e4f2.js" async=""></script><script src="/app-a95842bebb6a22f69552.js" async=""></script><script src="/d7eeaac4-d5871d2c13375eaba516.js" async=""></script><script src="/framework-9ee55e24f4b77cd3b4b7.js" async=""></script><script src="/webpack-runtime-ee8fffd92d4eefa6ecc9.js" async=""></script></body></html>
{"version":3,"sources":["webpack:///./src/components/Progressbar.tsx","webpack:///./src/templates/blogTemplate.js","webpack:///./src/components/Breadcrumb.tsx","webpack:///./src/components/VisuallyHidden.tsx","webpack:///./src/components/SkipToContent.tsx","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"names":["Progressbar","width","aria-hidden","css","theme","transition","zIndex","position","top","left","transform","height","spaces","background","colors","primary","SiteRoot","imgCss","maxWidth","marginBottom","Template","markdownRemark","data","frontmatter","html","React","useState","percentage","setPercentage","useEffect","isScrolling","handleScroll","requestAnimationFrame","scrollPercent","window","scrollY","document","body","offsetHeight","innerHeight","scrollPercentRounded","Math","round","addEventListener","removeEventListener","Layout","Helmet","lang","title","name","content","excerpt","property","slug","metaImage","publicURL","metaKeywords","SkipToContent","Wrapper","label","to","emphasized","dateTime","date","src","alt","className","dangerouslySetInnerHTML","__html","BreadCrumb","children","props","breadCrumbRef","useRef","anchors","current","querySelectorAll","length","setAttribute","aria-label","role","ref","breadCrumbListCss","listStyleType","margin","padding","display","flexDirection","mq","desktop","BreadCrumbList","BreadCrumbItem","background2","border","borderRadius","color","text","textDecoration","BreadCrumbItemSeparator","span","textAlign","visuallyHiddenStyle","overflow","clip","whiteSpace","isVisible","setIsVisible","href","onFocus","onBlur","SkipToContentDestination","id","_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","Object","keys","indexOf"],"mappings":"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","file":"component---src-templates-blog-template-js-d335fa10a9ac7b6e743d.js","sourcesContent":["import React from \"react\";\n\nexport const Progressbar: React.FC<{ width: number }> = ({ width }) => {\n  return (\n    <div\n      aria-hidden={true}\n      css={(theme) => ({\n        transition: \"all .2s\",\n        zIndex: 9999,\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        width: \"100%\",\n        transform: `translateX(-${100 - width}%)`,\n        height: theme.spaces[0],\n        background: theme.colors.primary,\n      })}\n    ></div>\n  );\n};\n","import React from \"react\";\nimport { graphql, Link } from \"gatsby\";\nimport { Helmet } from \"react-helmet\";\nimport { Progressbar } from \"../components/Progressbar\";\nimport { Layout } from \"../components/Layout\";\nimport { Wrapper } from \"../components/Wrapper\";\nimport {\n  BreadCrumb,\n  BreadCrumbList,\n  BreadCrumbItem,\n  BreadCrumbItemSeparator,\n} from \"../components/Breadcrumb\";\nimport {\n  SkipToContent,\n  SkipToContentDestination,\n} from \"../components/SkipToContent\";\n\nconst SiteRoot = `https://mfrachet.github.io`;\n\nconst imgCss = (theme) => ({ maxWidth: \"100%\", marginBottom: theme.spaces[5] });\n\nexport default function Template({ data }) {\n  const { markdownRemark } = data; // data.markdownRemark holds your post data\n  const { frontmatter, html } = markdownRemark;\n  const [percentage, setPercentage] = React.useState(0);\n\n  React.useEffect(() => {\n    let isScrolling = false;\n\n    const handleScroll = () => {\n      if (!isScrolling) {\n        requestAnimationFrame(() => {\n          const scrollTop = window.scrollY;\n          const docHeight = document.body.offsetHeight;\n          const winHeight = window.innerHeight;\n          const scrollPercent = scrollTop / (docHeight - winHeight);\n          const scrollPercentRounded = Math.round(scrollPercent * 100);\n\n          isScrolling = false;\n          setPercentage(scrollPercentRounded);\n        });\n\n        isScrolling = true;\n      }\n    };\n\n    document.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      document.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  return (\n    <Layout>\n      <Helmet>\n        <html lang=\"en\" />\n        <title>{frontmatter.title}</title>\n        <meta name=\"description\" content={markdownRemark.excerpt} />\n        <meta name=\"twitter:creator\" content=\"@mfrachet\" />\n        <meta name=\"twitter:card\" content=\"summary\" />\n        <meta property=\"og:url\" content={`${SiteRoot}${frontmatter.slug}`} />\n        <meta property=\"og:type\" content=\"article\" />\n        <meta property=\"og:title\" content={frontmatter.title} />\n        <meta property=\"og:description\" content={markdownRemark.excerpt} />\n        {frontmatter?.metaImage?.publicURL && (\n          <meta\n            property=\"og:image\"\n            content={`${SiteRoot}${frontmatter?.metaImage?.publicURL}`}\n          />\n        )}\n\n        {frontmatter.metaKeywords && (\n          <meta name=\"keywords\" content={frontmatter.metaKeywords} />\n        )}\n      </Helmet>\n\n      <SkipToContent>Jump to content</SkipToContent>\n      <Progressbar width={percentage} />\n      <Wrapper>\n        <nav>\n          <BreadCrumb label=\"Last visited page\">\n            <BreadCrumbList>\n              <BreadCrumbItem>\n                <Link to=\"/\">Home</Link>\n              </BreadCrumbItem>\n              <BreadCrumbItemSeparator />\n              <BreadCrumbItem>\n                <Link to=\"/posts\">Blog posts</Link>\n              </BreadCrumbItem>\n\n              <BreadCrumbItemSeparator />\n              <BreadCrumbItem emphasized>\n                <Link to={frontmatter.slug}>{frontmatter.title}</Link>\n              </BreadCrumbItem>\n            </BreadCrumbList>\n          </BreadCrumb>\n        </nav>\n\n        <SkipToContentDestination />\n        <main>\n          <h1>{frontmatter.title}</h1>\n\n          <time dateTime={frontmatter.date}>{frontmatter.date}</time>\n\n          {frontmatter?.metaImage?.publicURL && (\n            <img\n              src={frontmatter.metaImage.publicURL}\n              css={imgCss}\n              alt=\"\"\n              aria-hidden={true}\n            />\n          )}\n\n          <div\n            className=\"blog-post-content\"\n            dangerouslySetInnerHTML={{ __html: html }}\n          />\n        </main>\n      </Wrapper>\n    </Layout>\n  );\n}\nexport const pageQuery = graphql`\n  query($slug: String!) {\n    markdownRemark(frontmatter: { slug: { eq: $slug } }) {\n      html\n      excerpt\n      frontmatter {\n        date(formatString: \"MMMM DD, YYYY\")\n        slug\n        title\n        metaImage {\n          publicURL\n        }\n        metaKeywords\n      }\n    }\n  }\n`;\n","/**\n * Following: https://www.w3.org/TR/wai-aria-practices/#breadcrumb\n */\nimport React, { useRef, useEffect } from \"react\";\n\nexport interface BreadCrumbProps extends React.HTMLAttributes<HTMLDivElement> {\n  label: string;\n}\n\nexport const BreadCrumb: React.FC<BreadCrumbProps> = ({\n  children,\n  label,\n  ...props\n}) => {\n  const breadCrumbRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const anchors = breadCrumbRef?.current?.querySelectorAll(`a`) || [];\n\n    anchors[anchors.length - 1]?.setAttribute(\"aria-current\", \"page\");\n  }, []);\n\n  return (\n    <div\n      aria-label={label}\n      role=\"navigation\"\n      ref={breadCrumbRef}\n      {...props}\n      css={(theme) => ({ marginBottom: theme.spaces[6] })}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport interface BreadCrumbListItemProps\n  extends React.HTMLAttributes<HTMLOListElement> {}\n\nconst breadCrumbListCss = (theme) =>\n  ({\n    listStyleType: \"none\",\n    margin: 0,\n    padding: 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n\n    [theme.mq.desktop]: {\n      flexDirection: \"row\",\n    },\n  } as any);\n\nexport const BreadCrumbList: React.FC<BreadCrumbListItemProps> = ({\n  children,\n  ...props\n}) => {\n  return (\n    <ol {...props} css={breadCrumbListCss}>\n      {children}\n    </ol>\n  );\n};\n\nexport interface BreadCrumbItemProps\n  extends React.HTMLAttributes<HTMLLIElement> {\n  emphasized?: boolean;\n}\n\nexport const BreadCrumbItem: React.FC<BreadCrumbItemProps> = ({\n  children,\n  emphasized,\n  ...props\n}) => {\n  return (\n    <li\n      {...props}\n      css={(theme) => ({\n        marginBottom: 0,\n\n        \"&:before\": {\n          content: '\"\"',\n          background: theme.colors.background2,\n          border: `1px solid ${theme.colors.primary}`,\n          borderRadius: \"50%\",\n        },\n\n        '[aria-current=\"page\"]': {\n          color: emphasized ? theme.colors.primary : theme.colors.text,\n          textDecoration: \"none\",\n        },\n\n        \"&:last-of-type:before\": {\n          content: '\"\"',\n          background: theme.colors.primary,\n          borderRadius: \"50%\",\n        },\n\n        [theme.mq.desktop]: {\n          \"&:before\": { content: \"none\" },\n          \"&:last-of-type:before\": {\n            content: \"none\",\n          },\n        },\n      })}\n    >\n      {children}\n    </li>\n  );\n};\n\nexport const BreadCrumbItemSeparator: React.FC<BreadCrumbItemProps> = ({\n  children,\n  ...props\n}) => {\n  return (\n    <li\n      {...props}\n      css={(theme) => ({\n        marginBottom: theme.spaces[2],\n        \"&:before\": { content: \"none\" },\n\n        span: {\n          display: \"none\",\n        },\n\n        [theme.mq.desktop]: {\n          span: {\n            display: \"block\",\n            width: theme.spaces[4],\n            textAlign: \"center\",\n          },\n        },\n      })}\n      role=\"separator\"\n      aria-hidden={true}\n    >\n      <span>/</span>\n    </li>\n  );\n};\n","import React from \"react\";\n\nexport const visuallyHiddenStyle = {\n  position: \"absolute\",\n  height: \"1px\",\n  width: \"1px\",\n  overflow: \"hidden\",\n  clip: \"rect(1px, 1px, 1px, 1px)\",\n  whiteSpace: \"nowrap\" /* added line */,\n} as any;\n\nexport const VisuallyHidden: React.FC<React.HTMLAttributes<HTMLDivElement>> = ({\n  children,\n  ...props\n}) => (\n  <div css={visuallyHiddenStyle} {...props}>\n    {children}\n  </div>\n);\n","import React, { useState } from \"react\";\nimport { visuallyHiddenStyle } from \"./VisuallyHidden\";\n\nconst DESTINATION_ID = `mfrachet-content`;\n\nexport const SkipToContent: React.FC<React.HTMLAttributes<\n  HTMLAnchorElement\n>> = (props) => {\n  const [isVisible, setIsVisible] = useState(false);\n\n  const handleFocus = () => {\n    setIsVisible(true);\n  };\n\n  const handleBlur = () => {\n    setIsVisible(false);\n  };\n\n  return (\n    <a\n      css={(theme) =>\n        isVisible\n          ? {\n              padding: theme.spaces[2],\n              background: theme.colors.background2,\n              top: theme.spaces[2],\n              left: theme.spaces[2],\n              position: \"absolute\",\n            }\n          : visuallyHiddenStyle\n      }\n      href={`#${DESTINATION_ID}`}\n      onFocus={handleFocus}\n      onBlur={handleBlur}\n      {...props}\n    />\n  );\n};\n\nexport const SkipToContentDestination: React.FC<React.HTMLAttributes<\n  HTMLDivElement\n>> = (props) => {\n  return <div id={DESTINATION_ID} {...props} />;\n};\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"sourceRoot":""}
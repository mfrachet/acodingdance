<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessible forms | On my way to product engineering</title>

    <meta name="author" content="Marvin Frachet">
    <meta name="description" content="When designing forms on the web, one common pattern is to display each field with the possibility to validates their content and to put the eventual errors next to the fields themselves.">
    <meta name="keywords" content="accessibility, react, javascript, web, ethics, inclusion, css">

    

    <style>
      a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}*,:after,:before{box-sizing:border-box}body,html{height:100%}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}em{font-style:italic}strong{font-weight:700}.theme{--fs-0:0.7rem;--fs-1:0.9rem;--fs-2:1rem;--fs-3:1.2rem;--fs-4:1.3rem;--fs-5:1.4rem;--fs-6:1.6rem;--fs-7:1.8rem;--fs-8:2.2rem;--fs-9:2.6rem;--fs-10:3rem;--s-0:4px;--s-1:8px;--s-2:12px;--s-3:16px;--s-4:24px;--s-5:32px;--s-6:48px;--s-7:64px;--s-8:96px;--fw-text:400;--fw-heading:600;--fw-extraBold:800}.light{--primary-color:hsl(231deg, 48%, 48%);--primary-color-lighter:hsl(231deg, 48%, 96%);--secondary-color:hsl(340deg, 82%, 52%);--text-color:#272727;--bg-color:#fff;min-height:100%;background:var(--bg-color);color:var(--text-color)}.light :focus-visible{outline:3px dashed var(--secondary-color);outline-offset:3px}.light :focus:not(:focus-visible){outline:0;outline:1px dashed var(--primary-color)}.theme h1{font-size:var(--fs-10);font-weight:var(--fw-extraBold);line-height:1.4;margin-top:var(--s-4);margin-bottom:var(--s-4);background-image:linear-gradient(90deg,var(--primary-color),var(--secondary-color));background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent}.theme h2{font-size:var(--fs-8);line-height:1.4;font-weight:var(--fw-heading);margin-bottom:var(--s-2);margin-top:var(--s-5)}.theme h2+h3{margin-top:var(--s-3)}.theme h3{font-size:var(--fs-6);line-height:1.4;margin-bottom:var(--s-2);margin-top:var(--s-5)}.theme h4{font-size:var(--fs-5);line-height:1.4;margin-bottom:var(--s-1);margin-top:var(--s-2)}.theme pre{margin-bottom:var(--s-4)}.theme p{font-size:var(--fs-2);line-height:1.8;margin-bottom:var(--s-4)}.theme ul{padding:0 var(--s-2);margin-bottom:var(--s-3);margin-left:var(--s-2)}.theme ul li{padding:var(--s-1);line-height:1.8;position:relative;font-size:var(--fs-2)}.theme ul li:before{content:"";position:absolute;width:8px;height:8px;background:var(--secondary-color);left:calc(var(--s-2) * -1);top:18px}.theme time{display:inline-block;font-size:var(--fs-0);font-style:italic}.post{margin-bottom:var(--s-5)}.theme.light a{color:var(--primary-color);padding-bottom:1px;text-decoration:none;border-bottom:1px solid var(--primary-color)}.theme .wrapper{max-width:70ch;margin:0 auto;padding:var(--s-3)}h2.post-title{margin-top:var(--s-1);font-size:var(--fs-6)}.theme.light p>code{color:var(--primary-color);background:var(--primary-color-lighter);padding:var(--s-0);border-radius:4px;font-size:var(--fs-1)}.theme.light li>code{color:var(--primary-color);background:var(--primary-color-lighter);padding:var(--s-0);border-radius:4px;font-size:var(--fs-1)}.theme nav.main-navigation ul{display:flex;align-items:center;margin:0;padding:0}.theme nav.main-navigation ul li a{font-size:var(--fs-2)}.theme nav.main-navigation ul li:before{content:unset}.theme nav.main-navigation li{margin-right:var(--s-2)}nav.main-navigation li:last-of-type{margin-right:0}#skip-to-content{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}#skip-to-content:focus{border:unset;clip:unset;height:unset;margin:unset;overflow:unset;padding:unset;position:absolute;width:unset;top:var(--s-2);left:var(--s-4);padding:var(--s-2);background:var(--primary-color);color:var(--bg-color);border-radius:4px}iframe,img,video{max-height:100%;max-width:100%;margin:8px 0}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:0 0;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}
    </style>
  </head>
  <body>
    <div class="theme light">
      <a href="#main-content" id="skip-to-content">Skip to main content</a>

      <div class="wrapper">
        <nav class="main-navigation">
    <ul>
        <li>
            <a href="/">Home</a>
        </li>
        <li>
            <a href="/blog">Blog posts</a>
        </li>
        <li>
            <a href="https://github.com/mfrachet"  target="_blank" rel="noopener noreferrer">Github</a>
        </li>
        <li>
            <a href="https://www.linkedin.com/feed/"  target="_blank" rel="noopener noreferrer">LinkedIn</a>
        </li>
    </ul>
</nav>

        <main id="main-content">
          <h1>Accessible forms</h1>

          <p>When designing forms on the web, one common pattern is to display each field with the possibility to validates their content and to put the eventual errors next to the fields themselves.</p>
<p>For instance, let's imagine a login form with an email field, a password field, and a submit button. For each of these elements, there is a set of rules to apply:</p>
<ul>
<li>the email should have a valid format</li>
<li>the password should be at least 12 characters long</li>
<li>the submit button is disabled until the email and password fields are valid</li>
</ul>
<p>The following Codesandbox is an example of such a login form you can play with. It's built using <a href="https://formik.org/">Formik</a>.</p>
<iframe
  src="https://codesandbox.io/embed/not-accessible-f8txu?fontsize=14&hidenavigation=1&theme=dark"
  style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;"
  title="Not accessible"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
></iframe>
<p>While this seems to follow the rules set before and that the UI seems to fill the designers' expectations, there is an issue. Let's check what happens when using this form with a screen reader in this video.</p>
<video controls="controls" title="Not accessible login form video">
   <source src="./not-accessible.mp4" type="video/mp4"></source>
</video>
<p>In this video, I'm using VoiceOver (the official OSX screen reader). While being able to navigate using it, <strong>I don't have direct feedback about the invalid fields</strong>. In order to get informed, <strong>I need to scan the whole form again</strong> and check every text content in it.</p>
<p>With the intent tfo provide a better experience to screen reader users, we can:</p>
<ul>
<li>put an <code>aria-invalid</code> attribute on fields that are in an invalid state so that screen readers can provide that information</li>
<li>put an <code>aria-describedby</code> attribute on the error element (in the example, the one showing &quot;Invalid email address&quot;) so that when focusing the input, screen readers also announce the error content</li>
<li>remove the <code>disabled</code> attribute on the submit button so that the user can click on it. When pressing it, the browser will focus on the first field that is in an invalid state or submit the data if every field is valid.</li>
</ul>
<p>The following video shows how making these modifications help to provide feedback to screen reader users.</p>
<video controls="controls" title="Accessible login form video">
   <source src="./accessible.mp4" type="video/mp4"></source>
</video>
<p>In addition to this video, the following is a Codesandbox providing an example of the login form built in a more accessible way, also using <a href="https://formik.org/">Formik</a>.</p>
<iframe
  src="https://codesandbox.io/embed/accessible-2-6p98s?fontsize=14&hidenavigation=1&theme=dark"
  style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;"
  title="Accessible 2"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
></iframe>

        </main>
      </div>
    </div>
  </body>
</html>